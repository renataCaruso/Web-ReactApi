{"ast":null,"code":"import _slicedToArray from\"/workspaces/Web-ReactApi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import{useEffect,useState}from\"react\";import Styles from\"../../components/Styles\";import{API_URL}from\"../../constants\";import Swal from\"sweetalert2\";import withReactContent from\"sweetalert2-react-content\";import{useParams}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CadastrarAlunos=function CadastrarAlunos(){var _useParams=useParams(),id=_useParams.id;var MySwal=withReactContent(Swal);var valorInicial=id?\"\":null;var _useState=useState(valorInicial),_useState2=_slicedToArray(_useState,2),nome=_useState2[0],setNome=_useState2[1];var _useState3=useState(valorInicial),_useState4=_slicedToArray(_useState3,2),idade=_useState4[0],setIdade=_useState4[1];var _useState5=useState(valorInicial),_useState6=_slicedToArray(_useState5,2),cidade=_useState6[0],setCidade=_useState6[1];useEffect(function(){getAlunos();},[]);var getAlunos=function getAlunos(){axios.get(API_URL).then(function(response){response.data.forEach(function(aluno){if(aluno.id==id){setNome(aluno.nome);setIdade(aluno.idade);setCidade(aluno.cidade);}});});};var cadastrarAlunos=function cadastrarAlunos(){if(id){axios.put(API_URL,{id:id,nome:nome,idade:idade,cidade:cidade}).then(function(response){console.log(response);if(response.status===200){var _response$data;MySwal.fire(/*#__PURE__*/_jsx(\"p\",{children:response===null||response===void 0?void 0:(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.message}));limparCampos();}}).catch(function(error){MySwal.fire({icon:'error',title:'Oops...',text:error});});}else{axios.post(API_URL,{nome:nome,idade:idade,cidade:cidade}).then(function(response){if(response.status===201){var _response$data2;MySwal.fire(/*#__PURE__*/_jsx(\"p\",{children:response===null||response===void 0?void 0:(_response$data2=response.data)===null||_response$data2===void 0?void 0:_response$data2.message}));limparCampos();}}).catch(function(error){MySwal.fire({icon:'error',title:'Oops...',text:error});});}};var limparCampos=function limparCampos(){setNome(\"\");setIdade(\"\");setCidade(\"\");};return/*#__PURE__*/_jsxs(Styles.Form,{children:[/*#__PURE__*/_jsx(Styles.InputCadastro,{label:\"Nome\",variant:\"outlined\",value:nome,onChange:function onChange(e){return setNome(e.target.value);}}),/*#__PURE__*/_jsx(Styles.InputCadastro,{label:\"Idade\",variant:\"outlined\",value:idade,onChange:function onChange(e){return setIdade(e.target.value);}}),/*#__PURE__*/_jsx(Styles.InputCadastro,{label:\"Cidade\",variant:\"outlined\",value:cidade,onChange:function onChange(e){return setCidade(e.target.value);}}),/*#__PURE__*/_jsx(Styles.ButtonCadastro,{onClick:cadastrarAlunos,children:id?'Editar':'Cadastrar'})]});};export default CadastrarAlunos;","map":{"version":3,"sources":["/workspaces/Web-ReactApi/src/pages/alunos/CadastrarAlunos.jsx"],"names":["axios","useEffect","useState","Styles","API_URL","Swal","withReactContent","useParams","CadastrarAlunos","id","MySwal","valorInicial","nome","setNome","idade","setIdade","cidade","setCidade","getAlunos","get","then","response","data","forEach","aluno","cadastrarAlunos","put","console","log","status","fire","message","limparCampos","catch","error","icon","title","text","post","e","target","value"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport Styles from \"../../components/Styles\";\nimport { API_URL } from \"../../constants\";\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\nimport { useParams } from \"react-router\";\n\nconst CadastrarAlunos = () => {\n  const { id } = useParams();\n  const MySwal = withReactContent(Swal);\n\n  const valorInicial = id ? \"\" : null;\n  const [nome, setNome] = useState(valorInicial);\n  const [idade, setIdade] = useState(valorInicial);\n  const [cidade, setCidade] = useState(valorInicial);\n\n  useEffect(()=> {\n    getAlunos()\n  }, []);\n\n  const getAlunos = () => {\n    axios.get(API_URL).then((response) => {\n      response.data.forEach(aluno => {\n        if (aluno.id == id) {\n          setNome(aluno.nome);\n          setIdade(aluno.idade);\n          setCidade(aluno.cidade);\n        }\n      })\n    });\n  };\n\n  const cadastrarAlunos = () => {\n    if (id) {\n      axios.put(API_URL, {\n        id,\n        nome,\n        idade,\n        cidade\n      }).then((response) => {\n        console.log(response);\n        if (response.status === 200) {\n          MySwal.fire(<p>{response?.data?.message}</p>);\n          limparCampos();\n        }\n      }).catch(error => {\n        MySwal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: error,\n        })\n      });\n    } else {\n      axios\n        .post(API_URL, {\n          nome,\n          idade,\n          cidade,\n        })\n        .then((response) => {\n          if (response.status === 201) {\n            MySwal.fire(<p>{response?.data?.message}</p>);\n            limparCampos();\n          }\n        }).catch(error => {\n          MySwal.fire({\n            icon: 'error',\n            title: 'Oops...',\n            text: error,\n          })\n        });\n    }\n  };\n\n  const limparCampos = () => {\n    setNome(\"\");\n    setIdade(\"\");\n    setCidade(\"\");\n  };\n\n  return (\n    <Styles.Form>\n      <Styles.InputCadastro\n        label=\"Nome\"\n        variant=\"outlined\"\n        value={nome}\n        onChange={(e) => setNome(e.target.value)}\n      />\n      <Styles.InputCadastro\n        label=\"Idade\"\n        variant=\"outlined\"\n        value={idade}\n        onChange={(e) => setIdade(e.target.value)}\n      />\n      <Styles.InputCadastro\n        label=\"Cidade\"\n        variant=\"outlined\"\n        value={cidade}\n        onChange={(e) => setCidade(e.target.value)}\n      />\n\n      <Styles.ButtonCadastro onClick={cadastrarAlunos}>\n        {id ? 'Editar' : 'Cadastrar'}\n      </Styles.ButtonCadastro>\n    </Styles.Form>\n  );\n};\n\nexport default CadastrarAlunos;\n"]},"metadata":{},"sourceType":"module"}
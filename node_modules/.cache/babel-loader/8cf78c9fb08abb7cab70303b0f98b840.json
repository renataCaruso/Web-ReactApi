{"ast":null,"code":"import _slicedToArray from\"/workspaces/Web-ReactApi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import{useEffect,useState}from\"react\";import Styles from\"../../components/Styles\";import Swal from\"sweetalert2\";import withReactContent from\"sweetalert2-react-content\";import{useParams}from\"react-router\";import{API_URL_MATERIAS}from\"../../constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CadastrarMaterias=function CadastrarMaterias(){var _useParams=useParams(),id=_useParams.id;var MySwal=withReactContent(Swal);var valorInicial=id?\"\":null;var _useState=useState(valorInicial),_useState2=_slicedToArray(_useState,2),titulo=_useState2[0],setTitulo=_useState2[1];var _useState3=useState(valorInicial),_useState4=_slicedToArray(_useState3,2),professor_nome=_useState4[0],setProfessor=_useState4[1];useEffect(function(){getMaterias();},[]);var getMaterias=function getMaterias(){axios.get(API_URL_MATERIAS).then(function(response){response.data.forEach(function(materias){if(materias.id==id){setTitulo(materias.titulo);setProfessor(materias.professor_nome);}});});};var cadastrarMaterias=function cadastrarMaterias(){if(id){axios.put(API_URL_MATERIAS,{id:id,titulo:titulo,professor_nome:professor_nome}).then(function(response){console.log(response);if(response.status===200){var _response$data;MySwal.fire(/*#__PURE__*/_jsx(\"p\",{children:response===null||response===void 0?void 0:(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.message}));limparCampos();}}).catch(function(error){MySwal.fire({icon:'error',title:'Oops...',text:error});});}else{axios.post(API_URL_MATERIAS,{titulo:titulo,professor_nome:professor_nome}).then(function(response){if(response.status===201){var _response$data2;MySwal.fire(/*#__PURE__*/_jsx(\"p\",{children:response===null||response===void 0?void 0:(_response$data2=response.data)===null||_response$data2===void 0?void 0:_response$data2.message}));limparCampos();}}).catch(function(error){MySwal.fire({icon:'error',title:'Oops...',text:error});});}};var limparCampos=function limparCampos(){setTitulo(\"\");setProfessor(\"\");};return/*#__PURE__*/_jsxs(Styles.Form,{children:[/*#__PURE__*/_jsx(Styles.InputCadastro,{label:\"T\\xEDtulo\",variant:\"outlined\",value:titulo,onChange:function onChange(e){return setTitulo(e.target.value);}}),/*#__PURE__*/_jsx(Styles.InputCadastro,{label:\"Professor\",variant:\"outlined\",value:professor_nome,onChange:function onChange(e){return setProfessor(e.target.value);}}),/*#__PURE__*/_jsx(Styles.ButtonCadastro,{onClick:cadastrarMaterias,children:id?'Editar':'Cadastrar'})]});};export default CadastrarMaterias;","map":{"version":3,"sources":["/workspaces/Web-ReactApi/src/pages/materias/CadastrarMaterias.jsx"],"names":["axios","useEffect","useState","Styles","Swal","withReactContent","useParams","API_URL_MATERIAS","CadastrarMaterias","id","MySwal","valorInicial","titulo","setTitulo","professor_nome","setProfessor","getMaterias","get","then","response","data","forEach","materias","cadastrarMaterias","put","console","log","status","fire","message","limparCampos","catch","error","icon","title","text","post","e","target","value"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Styles from \"../../components/Styles\";\r\nimport Swal from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport { useParams } from \"react-router\";\r\nimport { API_URL_MATERIAS } from \"../../constants\";\r\n\r\nconst CadastrarMaterias = () => {\r\n  const { id } = useParams();\r\n  const MySwal = withReactContent(Swal);\r\n\r\n  const valorInicial = id ? \"\" : null;\r\n  const [titulo, setTitulo] = useState(valorInicial);\r\n  const [professor_nome, setProfessor] = useState(valorInicial);\r\n  \r\n  useEffect(()=> {\r\n    getMaterias()\r\n  }, []);\r\n\r\n  const getMaterias = () => {\r\n    axios.get(API_URL_MATERIAS).then((response) => {\r\n      response.data.forEach(materias => {\r\n        if (materias.id == id) {\r\n          setTitulo(materias.titulo);\r\n          setProfessor(materias.professor_nome);\r\n        }\r\n      })\r\n    });\r\n  };\r\n\r\n  const cadastrarMaterias = () => {\r\n    if (id) {\r\n      axios.put(API_URL_MATERIAS, {\r\n        id,\r\n        titulo,\r\n        professor_nome\r\n      }).then((response) => {\r\n        console.log(response);\r\n        if (response.status === 200) {\r\n          MySwal.fire(<p>{response?.data?.message}</p>);\r\n          limparCampos();\r\n        }\r\n      }).catch(error => {\r\n        MySwal.fire({\r\n          icon: 'error',\r\n          title: 'Oops...',\r\n          text: error,\r\n        })\r\n      });\r\n    } else {\r\n      axios\r\n        .post(API_URL_MATERIAS, {\r\n          titulo,\r\n          professor_nome\r\n        })\r\n        .then((response) => {\r\n          if (response.status === 201) {\r\n            MySwal.fire(<p>{response?.data?.message}</p>);\r\n            limparCampos();\r\n          }\r\n        }).catch(error => {\r\n          MySwal.fire({\r\n            icon: 'error',\r\n            title: 'Oops...',\r\n            text: error,\r\n          })\r\n        });\r\n    }\r\n  };\r\n\r\n  const limparCampos = () => {\r\n    setTitulo(\"\");\r\n    setProfessor(\"\");\r\n  };\r\n\r\n  return (\r\n    <Styles.Form>\r\n      <Styles.InputCadastro\r\n        label=\"TÃ­tulo\"\r\n        variant=\"outlined\"\r\n        value={titulo}\r\n        onChange={(e) => setTitulo(e.target.value)}\r\n      />\r\n      <Styles.InputCadastro\r\n        label=\"Professor\"\r\n        variant=\"outlined\"\r\n        value={professor_nome}\r\n        onChange={(e) => setProfessor(e.target.value)}\r\n      />\r\n      <Styles.ButtonCadastro onClick={cadastrarMaterias}>\r\n        {id ? 'Editar' : 'Cadastrar'}\r\n      </Styles.ButtonCadastro>\r\n    </Styles.Form>\r\n  );\r\n};\r\n\r\nexport default CadastrarMaterias;\r\n"]},"metadata":{},"sourceType":"module"}
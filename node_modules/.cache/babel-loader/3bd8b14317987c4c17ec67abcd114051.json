{"ast":null,"code":"import _toConsumableArray from\"/workspaces/Web-ReactApi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/workspaces/Web-ReactApi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Table from\"@mui/material/Table\";import TableBody from\"@mui/material/TableBody\";import TableContainer from\"@mui/material/TableContainer\";import TableHead from\"@mui/material/TableHead\";import TableRow from\"@mui/material/TableRow\";import Paper from\"@mui/material/Paper\";import Box from\"@mui/material/Box\";import Button from\"@mui/material/Button\";import{StyledTableCell,StyledTableRow}from\"./styles\";import{useEffect,useState}from\"react\";import axios from\"axios\";import{API_URL}from\"../../constants\";import DeleteIcon from\"@mui/icons-material/Delete\";import EditIcon from\"@mui/icons-material/Edit\";import Swal from\"sweetalert2\";import withReactContent from\"sweetalert2-react-content\";import{useNavigate}from\"react-router-dom\";import Lottie from\"react-lottie\";import animationData from\"../../lotties/78259-loading.json\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AlunosListagem=function AlunosListagem(){var navigate=useNavigate();var MySwal=withReactContent(Swal);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),alunos=_useState2[0],setAlunos=_useState2[1];var defaultOptions={loop:true,autoplay:true,animationData:animationData,rendererSettings:{preserveAspectRatio:\"xMidYMid slice\"}};useEffect(function(){getAlunos();},[]);var getAlunos=function getAlunos(){axios.get(API_URL).then(function(response){setAlunos(response.data);});};var deletarAluno=function deletarAluno(aluno){axios.delete(API_URL,{data:aluno}).then(function(response){var _response$data;MySwal.fire(/*#__PURE__*/_jsx(\"p\",{children:response===null||response===void 0?void 0:(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.message}));var alunoIndex=alunos.findIndex(function(elemento){return elemento.id===aluno.id;});var newAlunos=_toConsumableArray(alunos);newAlunos.splice(alunoIndex,1);setAlunos(newAlunos);}).catch(function(error){MySwal.fire({icon:\"error\",title:\"Oops...\",text:error});});};var editarAluno=function editarAluno(aluno){navigate(\"/editar-alunos/\".concat(aluno.id));};// SE FOSSE USAR A ABSTRAÇÃO (aula 4)\n// const listaCampos = [\n//   \"nome\",\n//   \"idade\",\n//   \"cidade\"\n// ];\n// return (\n//   <Box sx={{ marginTop: \"25px\" }}>\n//     <TabelaSerratec listaCampos={listaCampos} listaValores={alunos} />\n//   </Box>\n// );\nreturn/*#__PURE__*/_jsx(Box,{sx:{marginTop:\"25px\"},children:alunos.length>0?/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{sx:{minWidth:700},\"aria-label\":\"customized table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(StyledTableCell,{children:\"Nome\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Idade\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Cidade\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:alunos.map(function(aluno){return/*#__PURE__*/_jsxs(StyledTableRow,{children:[/*#__PURE__*/_jsx(StyledTableCell,{children:aluno.nome}),/*#__PURE__*/_jsx(StyledTableCell,{children:aluno.idade}),/*#__PURE__*/_jsx(StyledTableCell,{children:aluno.cidade}),/*#__PURE__*/_jsxs(StyledTableCell,{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return editarAluno(aluno);},variant:\"text\",children:/*#__PURE__*/_jsx(EditIcon,{})}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return deletarAluno(aluno);},variant:\"text\",children:/*#__PURE__*/_jsx(DeleteIcon,{})})]})]});})})]})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Lottie,{options:defaultOptions,height:500,width:500})})});};export default AlunosListagem;","map":{"version":3,"sources":["/workspaces/Web-ReactApi/src/pages/alunos/AlunosListagem.jsx"],"names":["Table","TableBody","TableContainer","TableHead","TableRow","Paper","Box","Button","StyledTableCell","StyledTableRow","useEffect","useState","axios","API_URL","DeleteIcon","EditIcon","Swal","withReactContent","useNavigate","Lottie","animationData","AlunosListagem","navigate","MySwal","alunos","setAlunos","defaultOptions","loop","autoplay","rendererSettings","preserveAspectRatio","getAlunos","get","then","response","data","deletarAluno","aluno","delete","fire","message","alunoIndex","findIndex","elemento","id","newAlunos","splice","catch","error","icon","title","text","editarAluno","marginTop","length","minWidth","map","nome","idade","cidade"],"mappings":"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","sourcesContent":["import Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Paper from \"@mui/material/Paper\";\nimport Box from \"@mui/material/Box\";\nimport Button from \"@mui/material/Button\";\nimport { StyledTableCell, StyledTableRow } from \"./styles\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { API_URL } from \"../../constants\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\nimport { useNavigate } from \"react-router-dom\";\nimport Lottie from \"react-lottie\";\nimport animationData from \"../../lotties/78259-loading.json\";\n\nconst AlunosListagem = () => {\n  const navigate = useNavigate();\n  const MySwal = withReactContent(Swal);\n  const [alunos, setAlunos] = useState([]);\n\n  const defaultOptions = {\n    loop: true,\n    autoplay: true,\n    animationData: animationData,\n    rendererSettings: {\n      preserveAspectRatio: \"xMidYMid slice\",\n    },\n  };\n\n  useEffect(() => {\n    getAlunos();\n  }, []);\n\n  const getAlunos = () => {\n    axios.get(API_URL).then((response) => {\n      setAlunos(response.data);\n    });\n  };\n\n  const deletarAluno = (aluno) => {\n    axios\n      .delete(API_URL, { data: aluno })\n      .then((response) => {\n        MySwal.fire(<p>{response?.data?.message}</p>);\n\n        const alunoIndex = alunos.findIndex(\n          (elemento) => elemento.id === aluno.id\n        );\n        let newAlunos = [...alunos];\n        newAlunos.splice(alunoIndex, 1);\n        setAlunos(newAlunos);\n      })\n      .catch((error) => {\n        MySwal.fire({\n          icon: \"error\",\n          title: \"Oops...\",\n          text: error,\n        });\n      });\n  };\n\n  const editarAluno = (aluno) => {\n    navigate(`/editar-alunos/${aluno.id}`);\n  };\n\n  // SE FOSSE USAR A ABSTRAÇÃO (aula 4)\n  // const listaCampos = [\n  //   \"nome\",\n  //   \"idade\",\n  //   \"cidade\"\n  // ];\n\n  // return (\n  //   <Box sx={{ marginTop: \"25px\" }}>\n  //     <TabelaSerratec listaCampos={listaCampos} listaValores={alunos} />\n  //   </Box>\n  // );\n\n  return (\n    <Box sx={{ marginTop: \"25px\" }}>\n      {alunos.length > 0 ? (\n        <TableContainer component={Paper}>\n          <Table sx={{ minWidth: 700 }} aria-label=\"customized table\">\n            <TableHead>\n              <TableRow>\n                <StyledTableCell>Nome</StyledTableCell>\n                <StyledTableCell>Idade</StyledTableCell>\n                <StyledTableCell>Cidade</StyledTableCell>\n                <StyledTableCell>Ações</StyledTableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {alunos.map((aluno) => (\n                <StyledTableRow>\n                  <StyledTableCell>{aluno.nome}</StyledTableCell>\n                  <StyledTableCell>{aluno.idade}</StyledTableCell>\n                  <StyledTableCell>{aluno.cidade}</StyledTableCell>\n                  <StyledTableCell>\n                    <Button onClick={() => editarAluno(aluno)} variant=\"text\">\n                      <EditIcon />\n                    </Button>\n                    <Button onClick={() => deletarAluno(aluno)} variant=\"text\">\n                      <DeleteIcon />\n                    </Button>\n                  </StyledTableCell>\n                </StyledTableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      ) : (\n        <>\n          <Lottie options={defaultOptions} height={500} width={500} />\n        </>\n      )}\n    </Box>\n  );\n};\n\nexport default AlunosListagem;\n"]},"metadata":{},"sourceType":"module"}
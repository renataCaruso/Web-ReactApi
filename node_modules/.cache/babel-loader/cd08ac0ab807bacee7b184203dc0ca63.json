{"ast":null,"code":"import _toConsumableArray from\"/workspaces/Web-ReactApi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/workspaces/Web-ReactApi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Table from\"@mui/material/Table\";import TableBody from\"@mui/material/TableBody\";import TableContainer from\"@mui/material/TableContainer\";import TableHead from\"@mui/material/TableHead\";import TableRow from\"@mui/material/TableRow\";import Paper from\"@mui/material/Paper\";import Box from\"@mui/material/Box\";import Button from\"@mui/material/Button\";import{StyledTableCell,StyledTableRow}from\"../alunos/styles\";import{useEffect,useState}from\"react\";import axios from\"axios\";import DeleteIcon from\"@mui/icons-material/Delete\";import EditIcon from\"@mui/icons-material/Edit\";import Swal from\"sweetalert2\";import withReactContent from\"sweetalert2-react-content\";import{useNavigate}from\"react-router-dom\";import Lottie from\"react-lottie\";import animationData from\"../../lotties/78259-loading.json\";import{API_URL_MATERIAS}from\"../../constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MateriasListagem=function MateriasListagem(){var navigate=useNavigate();var MySwal=withReactContent(Swal);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),materias=_useState2[0],setMaterias=_useState2[1];var defaultOptions={loop:true,autoplay:true,animationData:animationData,rendererSettings:{preserveAspectRatio:\"xMidYMid slice\"}};useEffect(function(){getMaterias();},[]);var getMaterias=function getMaterias(){axios.get(API_URL_MATERIAS).then(function(response){setMaterias(response.data);});};var deletarMateria=function deletarMateria(materia){axios.delete(API_URL_MATERIAS,{data:materia}).then(function(response){var _response$data;MySwal.fire(/*#__PURE__*/_jsx(\"p\",{children:response===null||response===void 0?void 0:(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.message}));var materiaIndex=materias.findIndex(function(elemento){return elemento.id===materia.id;});var newMaterias=_toConsumableArray(materias);newMaterias.splice(materiaIndex,1);setMaterias(newMaterias);}).catch(function(error){MySwal.fire({icon:\"error\",title:\"Oops...\",text:error});});};return/*#__PURE__*/_jsx(Box,{sx:{marginTop:\"25px\"},children:materias.length>0?/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{sx:{minWidth:700},\"aria-label\":\"customized table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(StyledTableCell,{children:\"Id\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Titulo\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Professor\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:materias.map(function(materia){return/*#__PURE__*/_jsxs(StyledTableRow,{children:[/*#__PURE__*/_jsx(StyledTableCell,{children:materia.id}),/*#__PURE__*/_jsx(StyledTableCell,{children:materia.titulo}),/*#__PURE__*/_jsx(StyledTableCell,{children:materia.professor_nome}),/*#__PURE__*/_jsxs(StyledTableCell,{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return navigate(\"/cadastrar-materias\");},variant:\"text\",children:/*#__PURE__*/_jsx(EditIcon,{})}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return deletarMateria(materia);},variant:\"text\",children:/*#__PURE__*/_jsx(DeleteIcon,{})})]})]});})})]})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Lottie,{options:defaultOptions,height:500,width:500})})});};export default MateriasListagem;","map":{"version":3,"sources":["/workspaces/Web-ReactApi/src/pages/materias/MateriasListagem.jsx"],"names":["Table","TableBody","TableContainer","TableHead","TableRow","Paper","Box","Button","StyledTableCell","StyledTableRow","useEffect","useState","axios","DeleteIcon","EditIcon","Swal","withReactContent","useNavigate","Lottie","animationData","API_URL_MATERIAS","MateriasListagem","navigate","MySwal","materias","setMaterias","defaultOptions","loop","autoplay","rendererSettings","preserveAspectRatio","getMaterias","get","then","response","data","deletarMateria","materia","delete","fire","message","materiaIndex","findIndex","elemento","id","newMaterias","splice","catch","error","icon","title","text","marginTop","length","minWidth","map","titulo","professor_nome"],"mappings":"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","sourcesContent":["import Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { StyledTableCell, StyledTableRow } from \"../alunos/styles\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport Swal from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Lottie from \"react-lottie\";\r\nimport animationData from \"../../lotties/78259-loading.json\";\r\nimport { API_URL_MATERIAS } from \"../../constants\";\r\n\r\nconst MateriasListagem = () => {\r\n  const navigate = useNavigate();\r\n  const MySwal = withReactContent(Swal);\r\n  const [materias, setMaterias] = useState([]);\r\n\r\n  const defaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: animationData,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    getMaterias();\r\n  }, []);\r\n\r\n  const getMaterias = () => {\r\n    axios.get(API_URL_MATERIAS).then((response) => {\r\n      setMaterias(response.data);\r\n    });\r\n  };\r\n\r\n  const deletarMateria = (materia) => {\r\n    axios\r\n      .delete(API_URL_MATERIAS, { data: materia })\r\n      .then((response) => {\r\n        MySwal.fire(<p>{response?.data?.message}</p>);\r\n\r\n        const materiaIndex = materias.findIndex(\r\n          (elemento) => elemento.id === materia.id\r\n        );\r\n        let newMaterias = [...materias];\r\n        newMaterias.splice(materiaIndex, 1);\r\n        setMaterias(newMaterias);\r\n      })\r\n      .catch((error) => {\r\n        MySwal.fire({\r\n          icon: \"error\",\r\n          title: \"Oops...\",\r\n          text: error,\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ marginTop: \"25px\" }}>\r\n      {materias.length > 0 ? (\r\n        <TableContainer component={Paper}>\r\n          <Table sx={{ minWidth: 700 }} aria-label=\"customized table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <StyledTableCell>Id</StyledTableCell>\r\n                <StyledTableCell>Titulo</StyledTableCell>\r\n                <StyledTableCell>Professor</StyledTableCell>\r\n                <StyledTableCell>Ações</StyledTableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {materias.map((materia) => (\r\n                <StyledTableRow>\r\n                  <StyledTableCell>{materia.id}</StyledTableCell>\r\n                  <StyledTableCell>{materia.titulo}</StyledTableCell>\r\n                  <StyledTableCell>{materia.professor_nome}</StyledTableCell>\r\n                  <StyledTableCell>\r\n                  <Button onClick={() =>  navigate(\"/cadastrar-materias\")} variant=\"text\">\r\n                      <EditIcon />\r\n                    </Button>\r\n                    <Button onClick={() => deletarMateria(materia)} variant=\"text\">\r\n                      <DeleteIcon />\r\n                    </Button>\r\n                  </StyledTableCell>\r\n                </StyledTableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      ) : (\r\n        <>\r\n          <Lottie options={defaultOptions} height={500} width={500} />\r\n        </>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default MateriasListagem;"]},"metadata":{},"sourceType":"module"}